<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Exodus: Exodus API Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Exodus
   &#160;<span id="projectnumber">7.10</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Exodus API Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>EXODUS is the successor of the widely used finite element (FE) data file format EXODUS (henceforth referred to as EXODUS I) developed by Mills-Curran and Flanagan. It continues the concept of a common database for multiple application codes (mesh generators, analysis codes, visualization software, etc.) rather than code-specific utilities, affording flexibility and robustness for both the application code developer and application code user. By using the EXODUS data model, a user inherits the flexibility of using a large array of application codes (including vendor-supplied codes) which access this common data file directly or via translators.</p>
<p>The uses of the EXODUS data model include the following:</p><ul>
<li>Problem definition &ndash; mesh generation, specification of locations of boundary conditions and load application, specification of material types.</li>
<li>Simulation &ndash; model input and results output.</li>
<li>Visualization &ndash; model verification, results postprocessing, data interrogation, and analysis tracking.</li>
</ul>
<h1><a class="anchor" id="avail"></a>
Availability</h1>
<p>The Exodus library source code is available on Github at <a href="https://github.com/gsjaardema/seacas">https://github.com/gsjaardema/seacas</a></p>
<p>For bug reports, documentation errors, and enhancement suggestions, contact:</p><ul>
<li>Gregory D. Sjaardema</li>
<li>WEB: <a href="https://github.com/gsjaardema/seacas/issues">https://github.com/gsjaardema/seacas/issues</a></li>
<li>EMAIL: <a href="#" onclick="location.href='mai'+'lto:'+'gds'+'ja'+'ar@'+'sa'+'ndi'+'a.'+'gov'; return false;">gdsja<span style="display: none;">.nosp@m.</span>ar@s<span style="display: none;">.nosp@m.</span>andia<span style="display: none;">.nosp@m.</span>.gov</a></li>
<li>EMAIL: <a href="#" onclick="location.href='mai'+'lto:'+'gsj'+'aa'+'rde'+'ma'+'@gm'+'ai'+'l.c'+'om'; return false;">gsjaa<span style="display: none;">.nosp@m.</span>rdem<span style="display: none;">.nosp@m.</span>a@gma<span style="display: none;">.nosp@m.</span>il.c<span style="display: none;">.nosp@m.</span>om</a></li>
<li>PHONE: (505) 844-2701 (office)</li>
<li>PHONE: (505) 999-8991 (cell)</li>
</ul>
<h1><a class="anchor" id="license"></a>
License</h1>
<p>The EXODUS library is licensed under the BSD open source license. </p><pre class="fragment"> Copyright (c) 2005-2017 National Technology &amp; Engineering Solutions
 of Sandia, LLC (NTESS).  Under the terms of Contract DE-NA0003525 with
 NTESS, the U.S. Government retains certain rights in this software.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

   Redistributions of source code must retain the above copyright
   notice, this list of conditions and the following disclaimer.

   Redistributions in binary form must reproduce the above
   copyright notice, this list of conditions and the following
   disclaimer in the documentation and/or other materials provided
   with the distribution.

   Neither the name of NTESS nor the names of its
   contributors may be used to endorse or promote products derived
   from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</pre><h1><a class="anchor" id="devel"></a>
Development of EXODUS</h1>
<p>The evolution of the EXODUS data model has been steered by FE application code developers who desire the advantages of a common data format. The EXODUS model has been designed to overcome deficiencies in the EXODUS I file format and meet the following functional requirements as specified by these developers:</p><ul>
<li>Random read/write access.</li>
<li>Application programming interface (API) &ndash; provide routines callable from FORTRAN, C, and C++ application codes.</li>
<li>Extensible &ndash; allow new data objects to be added without modifying the application programs that use the file format.</li>
<li>Machine independent &ndash; data should be independent of the machine which generated it.</li>
<li>Real-time access during analysis &ndash; allow access to the data in a file while the file is being created.</li>
</ul>
<p>To address these requirements, the open source database library NetCDF (<a href="http://www.unidata.ucar.edu/software/netcdf/">http://www.unidata.ucar.edu/software/netcdf/</a>) was selected to handle the low-level data storage. The EXODUS II library functions provide the mapping between FE data objects and NetCDF dimensions, attributes, and variables. Thus, the code developer interacts with the data model using the vocabulary of an FE analyst (element connectivity, nodal coordinates, etc.) and is relieved of the details of the data access mechanism.</p>
<p>Because an EXODUS file is a NetCDF file, an application program can access data via the EXODUS API or the NetCDF API directly. Although accessing the data directly via the NetCDF API requires more in-depth understanding of NetCDF, this capability is a powerful feature that allows the development of auxiliary libraries of special purpose functions not offered in the standard EXODUS library. For example, if an application required access to the coordinates of a single node (the standard library function returns the coordinates for all of the nodes in the model), a simple function could be written that calls NetCDF routines directly to read the data of interest.</p>
<h1><a class="anchor" id="descrip"></a>
Description of Data Objects</h1>
<p>The data in EXODUS files can be divided into three primary categories: initialization data, model, and results.</p>
<p>Initialization data includes sizing parameters (number of nodes, number of elements, etc.), optional quality assurance information (names of codes that have operated on the data), and optional informational text.</p>
<p>The model is described by data which are static (do not change through time). These data include nodal coordinates, element connectivity (node lists for each element), element attributes, and node sets and side sets (used to aid in applying loading conditions and boundary constraints).</p>
<p>The results are optional and include five types of variables &ndash; nodal, element, nodeset, sideset, and global &ndash; each of which is stored through time. Nodal results are output (at each time step) for all the nodes in the model. An example of a nodal variable is displacement in the X direction. Element, nodeset, and sideset results are output (at each time step) for all entities (elements, nodes, sides) in one or more entity block. For example, stress may be an element variable. Another use of element variables is to record element status (a binary flag indicating whether each element is "alive" or "dead") through time. Global results are output (at each time step) for a single element or node, or for a single property. Linear momentum of a structure and the acceleration at a particular point are both examples of global variables. Although these examples correspond to typical FE applications, the data format is flexible enough to accommodate a spectrum of uses.</p>
<p>A few conventions and limitations must be cited:</p>
<ul>
<li>There are no restrictions on the frequency of results output except that the time value associated with each successive time step must increase monotonically.</li>
<li>To output results at different frequencies (i.e., variable A at every simulation time step, variable B at every other time step) multiple EXODUS files must be used.</li>
<li>There are no limits to the number of each type of results, but once declared, the number cannot change.</li>
<li>If the mesh geometry or topology changes in time (i.e., number of nodes increases, connectivity changes), then the new geometry must be output to a new EXODUS file.</li>
</ul>
<h1><a class="anchor" id="int64"></a>
Integer Bulkdata Storage Details (32-bit and 64-bit integers)</h1>
<p>The EXODUS database can store integer bulk data, entity map data, and mesh entity (block/set) ids in either 32-bit or 64-bit integer format. The data considered "bulk data" are:</p>
<ul>
<li>element, face, and edge connectivity lists,</li>
<li>element, face, edge, and node set entity lists,</li>
</ul>
<p>The entity map data is any data stored in one of the 'map' objects on the exodus file. This includes:</p><ul>
<li>id maps</li>
<li>number maps</li>
<li>order maps</li>
<li>processor node maps</li>
<li>processor element maps.</li>
</ul>
<p>A mesh entity id is the id of any block (element block, edge block, ...); set (node set, face set, ...), coordinate frame, and communication map.</p>
<p>When an EXODUS file is created via the <a class="el" href="exodusII_8h.html#a37c928f7e30c333ee7c704d04f7e3a87">ex_create()</a> function, the 'mode' argument provides the mechanism for specifying how integer data will be passed as arguments to the API functions and also how the integer data will be stored on the database. The <a class="el" href="exodusII_8h.html#a9a940cd55241b5c5e7960a123d79c94c">ex_open()</a> function also provides a mechanism for specifying how integer data will be passed as arguments.</p>
<p>The method uses the 'mode' argument to the <a class="el" href="exodusII_8h.html#a9a940cd55241b5c5e7960a123d79c94c">ex_open()</a> and <a class="el" href="exodusII_8h.html#a37c928f7e30c333ee7c704d04f7e3a87">ex_create()</a> functions. The mode is a 32-bit integer in which certain bits are turned on by or'ing certain predefined constants. </p><pre class="fragment">exoid = ex_create( EX_TEST_FILENAME,
                   EX_CLOBBER|EX_MAPS_INT64_DB|EX_MAPS_INT64_API,
                   &amp;appWordSize, &amp;diskWordSize );
</pre><p>The constants related to the integer size (32-bit or 64-bit) specification are:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone">Constant Name   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EX_MAPS_INT64_DB  </td><td class="markdownTableBodyNone">entity map data   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">EX_IDS_INT64_DB  </td><td class="markdownTableBodyNone">mesh entity ids   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EX_BULK_INT64_DB  </td><td class="markdownTableBodyNone">bulk data   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">EX_ALL_INT64_DB  </td><td class="markdownTableBodyNone">(the above 3 or'd together)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EX_MAPS_INT64_API  </td><td class="markdownTableBodyNone">entity map data   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">EX_IDS_INT64_API  </td><td class="markdownTableBodyNone">mesh entity ids   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EX_BULK_INT64_API  </td><td class="markdownTableBodyNone">bulk data   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">EX_ALL_INT64_API  </td><td class="markdownTableBodyNone">(the above 3 or'd together)   </td></tr>
</table>
<p>The constants that end with <code>_DB</code> specify that that particular integer data is stored on the database as 64-bit integers; the constants that end with "_API" specify that that particular integer data is passed to/from API functions as 64-bit integers.</p>
<p>If the range of the data being transmitted is larger than the permitted integer range (for example, if the data is stored on the database as 64-bit ints and the application specifies passing data as 32-bit ints), the API function will return an error.</p>
<p>The three types of integer data whose storage can be specified are</p><ul>
<li>maps (<code>EX_MAPS_INT64_</code>),</li>
<li>"bulk data" including connectivity lists and entity lists (<code>EX_BULK_INT64_</code>), and</li>
<li>entity ids which are the ids of element, face, edge, and node sets and blocks; and map ids (<code>EX_IDS_INT64_</code>)</li>
</ul>
<p>The function <code>ex_int64_status(exoid)</code> is used to determine the integer storage types being used for the EXODUS database 'exoid'. It returns an integer which can be and'ed with the above flags to determine either the storage type or function parameter type.</p>
<p>For example, if (<code>EX_MAPS_INT64_DB &amp; ex_int64_status(exoid)</code>) is true, then map data is being stored as 64-bit integers for that database.</p>
<p>It is not possible to determine the integer data size on a database without opening the database via an <a class="el" href="exodusII_8h.html#a9a940cd55241b5c5e7960a123d79c94c">ex_open()</a> call. However, the integer size specification for API functions can be changed at any time via the <code>ex_set_int64_status(exoid, mode)</code> function. The mode is one or more of <code>EX_MAPS_INT64_API</code>, <code>EX_IDS_INT64_API</code>, or <code>EX_BULK_INT64_API</code>, or'd together. Any exodus function calls after that point will use the specified integer size. Note that a call to <code>ex_set_int64_status(exoid, mode)</code> overrides any previous setting for the integer sizes used in the API. The <a class="el" href="exodusII_8h.html#a37c928f7e30c333ee7c704d04f7e3a87">ex_create()</a> function is the only way to specify the integer sizes specification for database integers.</p>
<h2><a class="anchor" id="int64_fortran_api"></a>
Fortran API</h2>
<p>The fortran API is uses the same mechanism as was described above for the C API. If using the "8-byte real and 8-byte int" fortran mode typically used by the SEACAS applications (the compiler automatically promotes all integers and reals to 8-byte quantities), then the fortran exodus library will automatically enable the *_API options; the client still needs to specify the *_DB options.</p>
<h2><a class="anchor" id="int64_fortran_imp"></a>
Fortran Implementation</h2>
<p>The new capability to pass 64-bit integer data through the fortran and C API functions simplifies the implementation of the "8-byte real
8-byte int" usage of the exodus library. Previously, the wrapper routines in <a class="el" href="addrwrap_8F.html">addrwrap.F</a> were required to convert the 8-byte integer data on the client side to/from 4-byte integers on the library side. This required extra memory allocation and complications that are now handled at the lowest level in the NetCDF library. The functions in the fortran API have all been converted to pass 64-bit integers down to the C API which has removed some code and simplified those functions.</p>
<h1><a class="anchor" id="Database"></a>
Options (Compression, Name Length, File Type)</h1>
<p>The <a class="el" href="exodusII_8h.html#ab9398d414e1316177db89782ed2a08c4">ex_set_option()</a> function call is used to set various options on the database. Valid values for 'option' are:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone">Option Name   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EX_OPT_MAX_NAME_LENGTH  </td><td class="markdownTableBodyNone">Maximum length of names that will be returned/passed via API call.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">EX_OPT_COMPRESSION_TYPE  </td><td class="markdownTableBodyNone">Not currently used; default is gzip   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EX_OPT_COMPRESSION_LEVEL  </td><td class="markdownTableBodyNone">In the range [0..9]. A value of 0 indicates no compression   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">EX_OPT_COMPRESSION_SHUFFLE  </td><td class="markdownTableBodyNone">1 if enabled, 0 if disabled   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EX_OPT_INTEGER_SIZE_API  </td><td class="markdownTableBodyNone">4 or 8 indicating byte size of integers used in API functions.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">EX_OPT_INTEGER_SIZE_DB  </td><td class="markdownTableBodyNone">Query only, returns 4 or 8 indicating byte size of integers stored on the database.   </td></tr>
</table>
<p>The compression-related options are only available on NetCDF-4 files since the underlying hdf5 compression functionality is used for the implementation. The compression level indicates how much effort should be expended in the compression and the computational expense increases with higher levels; in many cases, a compression level of 1 is sufficient. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
